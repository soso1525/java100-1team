<!DOCTYPE html>
<html lang="en">

  <head>
    
    <!-- Meta Tag -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- SEO -->
    <meta name="description" content="150 words">
    <meta name="author" content="uipasta">
    <meta name="url" content="http://www.yourdomainname.com">
    <meta name="copyright" content="company name">
    <meta name="robots" content="index,follow">
    
    <title>WebRes - Personal Resume Template</title>
    
    <!-- Favicon -->
    <link rel="shortcut icon" href="../images/favicon/favicon.ico">
    <link rel="apple-touch-icon" sizes="144x144" type="image/x-icon" href="../images/favicon/apple-touch-icon.png">
    
    <!-- All CSS Plugins -->
    <link rel="stylesheet" type="text/css" href="../css/plugin.css">
    
    <!-- Main CSS Stylesheet -->
    <link rel="stylesheet" type="text/css" href="../css/style.css">
    
    <!-- Google Web Fonts  -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:400,300,500,600,700">
    
    <!-- HTML5 shiv and Respond.js support IE8 or Older for HTML5 elements and media queries -->
    <!--[if lt IE 9]>
	   <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
	   <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>

<section id="portfolio" class="portfolio section-space-padding">
            <div class="row">
                <div class="col-sm-12">
                    <div class="section-title">
                        <h2>채용 공고</h2>
                          <div class="divider dark">
						   <i class="icon-picture"></i>
						   </div>
                        <p>최신 채용 공고를 한번에 볼 수 있는...</p>
                    </div>
                </div>
            </div>
            <div class="row">
              <div class="col-md-2">
                <ul class="portfolio">
                    <li class="filter" data-filter="all">all</li>
                    <li class="filter" data-filter=".apps">Hot</li>
                    <li class="filter" data-filter=".mockups">Like it!</li>
                    <li class="filter" data-filter=".wordpress">up-to-date</li>
                </ul>
              </div>
              
   <div class="col-md-10">
                <div id='list2' class="portfolio-inner margin-top-30">
        </div> 
        </div>
       </div>
    </section>

 <script id="notice" type="text/x-handlebars-template">
{{#each list}}
 
                    <div class="col-md-4 col-sm-6 col-xs-12 mix all" >
                    <div class="item">
                    <a href="form.html?no={{no}}" class="portfolio-popup" title="Notice Title" >
                    <figure class="snip1384">
                    <img src="../../download/{{image}}" alt="">
                    <figcaption>
                    <h3>{{companyMember.name}}</h3>
                    <p>{{startDate}} ~ {{endDate}} </p><i class="ion-ios-arrow-right"></i>
                    </figcaption>
                        
                    </figure>
                    </div>
                    </div>
                           
{{/each}}

</script>
<script src='../node_modules/handlebars/dist/handlebars.min.js'></script>
    
    
    
    
    <script type="text/javascript" src="../js/jquery.min.js"></script>
    <script type="text/javascript" src="../js/plugin.js"></script>
    
    <script type="text/javascript" src="../js/scripts.js"></script>
    <script type="text/javascript">
    
    var noItem = $('#no'), 
    startDateItem = $('#startDate'), 
    endDateItem = $('#endDate'),
    imageItem = $('#image'),
    nodivItem = $('#nodiv'),
    nameItem = $('#name'),
    noticeSrc = $('#notice').html(),
    noticeEngine = Handlebars.compile(noticeSrc);
   
    load()
    
    var index = location.href.indexOf('?');
    if (index != -1) { // 기존 데이터를 조회할 경우,
        var qs = location.href.substr(index + 1);
        var arr = qs.split('=');
        $('.my-new').css('display', 'none');
        $(() => {
            $.ajax('../json/notice/' + arr[1], {
                dataType: 'json',
                success: (result) => {
                    console.log()
                   noItem.val(result.data.no);
                   nodivItem.html("<input class='form-control' readonly id='no' " +
                           "name='no' value='" + result.data.no + "'> "); 
                   
                    nameItem.val(result.data.companyMember.name);
                    startDateItem.val(result.data.startDate);
                    endDateItem.val(result.data.endDate);
                    imageItem.val(result.data.image);
                },
                error: () => {
                    window.alert('서버 실행 오류!');
                }
            });
        });
    }
    
    
    function load() {
        
    	   /*  if (options == undefined) options = {};
    	     options.pn = pageNo; */
    	    
    	    $.ajax('../json/notice/list', {
    	        dataType: 'json',
    	        success: (result) => {
    	            $('#list2').html(noticeEngine(result)); 
    	            
    	         /*    currPageNo = result.pageNo;
    	            currBtn.html(currPageNo);
    	            
    	            if (result.pageNo == 1) {
    	                $(prevBtn.parent()).addClass("disabled");
    	            } else {
    	                $(prevBtn.parent()).removeClass("disabled");
    	            }
    	            
    	            if (result.lastPageNo == result.pageNo) {
    	                $(nextBtn.parent()).addClass("disabled");
    	            } else {
    	                $(nextBtn.parent()).removeClass("disabled");
    	            } */
    	        },
    	        error: () => {
    	            window.alert('서버 실행 오류!');
    	        }
    	    });
    	     
    	}
    </script>

</body>
</html>