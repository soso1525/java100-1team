
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>이력서목록</title>
<link rel='stylesheet' href='../node_modules/bootstrap/dist/css/bootstrap.min.css'>
<link rel='stylesheet' href='../css/common.css'>
</head>
<body>
<div class='container'>

<h1>이력서 목록</h1>

<table id='list' class='table table-hover'>
<thead>
<tr>
<th>번호</th><th>학력</th><th>경력</th><th>직무</th><th>사진</th><th>자격증</th><th>어학</th>
<th>수상</th><th>전공</th><th>학교명</th><th>학점</th><th>조회수</th><th>동영상</th><th>이력서파일</th>
<th>할말</th><th>공개여부</th><th>회원번호</th>
</tr>
</thead>


<tbody>

</tbody>
</table>
<button type="button" class='btn btn-primary btn-sm' id="btn-add" onclick="location.href='form.html'">추가</button>
<nav aria-label="Page navigation">
  <ul class="pagination justify-content-center">
    <li class="page-item disabled"><a class="page-link" 
        href="list?pn=-1"
        tabindex="-1">이전</a></li>
        
    <li class="page-item"><a class="page-link" href="#"></a></li>
    
    <li class="page-item disabled"><a class="page-link" 
        href="list?pn=1"
        tabindex="-1">다음</a></li>
  </ul>
</nav>

</div>

<script src='../node_modules/jquery/dist/jquery.min.js'></script>
<script src='../node_modules/popper.js/dist/umd/popper.min.js'></script>
<script src='../node_modules/bootstrap/dist/js/bootstrap.min.js'></script>
</body>
<script type="text/javascript">

  var /* prevBtn = $('#prevBtn'),
    currBtn = $('#currBtn'),
    nextBtn = $('#nextBtn'),
     */
    tbody = $('#list > tbody')
   /*  currPageNo = 1; */

load();

/* prevBtn.click(() => {
    load(currPageNo - 1)
});

nextBtn.click(() => {
    load(currPageNo + 1)
});
 */

function load() {
    
   /*  if (options == undefined) options = {};
     options.pn = pageNo; */
    
    $.ajax('../json/resume/list', {
        dataType: 'json',
        success: (result) => {
            
            tbody.html(""); 
            
            for (var data of result.list) {
                $('<tr>')
                    .html(  
                        "<td><a href='form.html?no=" + data.no + "'>" + data.no + "</a></td>" + 
                        "<td>" + data.education + "</td>" +
                        "<td>" + data.career + "</td>" +
                        "<td>" + data.kind + "</td>" +
                        "<td>" + data.image + "</td>" +
                        "<td>" + data.qualification + "</td>" +
                        "<td>" + data.language + "</td>" +
                        "<td>" + data.award + "</td>" +
                        "<td>" + data.major + "</td>" +
                        "<td>" + data.schoolName + "</td>" +
                        "<td>" + data.grades + "</td>" +
                        "<td>" + data.viewCount + "</td>" +
                        "<td>" + data.avi + "</td>" +
                        "<td>" + data.file + "</td>" +
                        "<td>" + data.note + "</td>" +
                        "<td>" + data.check + "</td>"+
                        "<td>" + data.ino+ "</td>")
                    .appendTo(tbody);
            }
            
         /*    currPageNo = result.pageNo;
            currBtn.html(currPageNo);
            
            if (result.pageNo == 1) {
                $(prevBtn.parent()).addClass("disabled");
            } else {
                $(prevBtn.parent()).removeClass("disabled");
            }
            
            if (result.lastPageNo == result.pageNo) {
                $(nextBtn.parent()).addClass("disabled");
            } else {
                $(nextBtn.parent()).removeClass("disabled");
            } */
        },
        error: () => {
            window.alert('서버 실행 오류!');
        }
    });
}


</script>
</html>
